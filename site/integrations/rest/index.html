<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">   
    <link rel="shortcut icon" href="../../../../favicon.png">

    <title>REST - MoBagel Docs</title>

    <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../css/base.css" rel="stylesheet">
    <link href="../../css/cinder.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">


    <link href="../../extra.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
    <script>
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-70490559-1', 'mobagel.com');
    ga('send', 'pageview');
    </script>
    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../..">MoBagel Docs</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Started <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../..">Welcome</a>
</li>

                        
                            
<li >
    <a href="../../started/dashboard/">MoBagel Dashboard</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">SDKs <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li class="active">
    <a href="./">REST</a>
</li>

                        
                            
<li >
    <a href="../python/">Python</a>
</li>

                        
                            
<li >
    <a href="../node/">Node</a>
</li>

                        
                            
<li >
    <a href="../php/">PHP</a>
</li>

                        
                            
<li >
    <a href="../ios_objective_c/">iOS Objective C</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../glossary/">Glossary</a>
</li>

                        
                            
<li >
    <a href="../../examples/">Examples</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../../started/dashboard/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../python/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="first-level active"><a href="#rest-api">REST API</a></li>
        
    
        <li class="first-level "><a href="#preparation">Preparation</a></li>
        
    
        <li class="first-level "><a href="#creating-an-account">Creating an account</a></li>
        
    
        <li class="first-level "><a href="#creating-a-new-product">Creating a new product</a></li>
        
    
        <li class="first-level "><a href="#adding-custom-properties">Adding custom properties</a></li>
        
    
        <li class="first-level "><a href="#api-list">API List</a></li>
        
            <li class="second-level"><a href="#register-api">Register API</a></li>
            
        
            <li class="second-level"><a href="#report-api">Report API</a></li>
            
        
    
        <li class="first-level "><a href="#register-api_1">Register API</a></li>
        
            <li class="second-level"><a href="#request">Request</a></li>
            
        
            <li class="second-level"><a href="#response">Response</a></li>
            
        
    
        <li class="first-level "><a href="#report-api_1">Report API</a></li>
        
            <li class="second-level"><a href="#request_1">Request</a></li>
            
        
            <li class="second-level"><a href="#response_1">Response</a></li>
            
        
    
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="rest-api">REST API</h1>
<p>This section covers the basics of the MoBagel API and how you can utilize MoBagel's platform to improve your IoT devices.</p>
<hr />
<h1 id="preparation">Preparation</h1>
<h1 id="creating-an-account">Creating an account</h1>
<p>If you do not have an account, please create an account <a href="https://app.mobagel.com/login">here</a>. After you create an account, you will be directed to the dashboard.
<img src="../../../img/MoBagel_Getting_Started/Sign_up.png" width="800">  </p>
<hr />
<h1 id="creating-a-new-product">Creating a new product</h1>
<p>To use MoBagel, you first have to create a <code>product</code>, which is essentially a group of same <code>device</code>. You will be prompted to create a new product when you first enter the dashboard.</p>
<p><img src="../../../img/MoBagel_Getting_Started/Enter_Product_name.png" width="800">  </p>
<p>After you create a <code>product</code>, you can go to <strong><em>Configuration -&gt; Product Settings</em></strong> Info to retrieve your <code>product_key</code>, which will be used to create <code>device</code> later on.</p>
<p><img src="../../../img/MoBagel_Getting_Started/Product_key.png" width="800">  </p>
<hr />
<h1 id="adding-custom-properties">Adding custom properties</h1>
<p><img src="../../../img/MoBagel_Getting_Started/Config_settings.png" width="200"> <br />
In <strong><em>Product Settings</em></strong> under <strong><em>Configuration</em></strong>, you can add custom properties to your product. <br />
Custom properties should have the following requirements:   </p>
<p><img src="../../../img/MoBagel_Getting_Started/Device_Settings.png" width="800">   </p>
<ul>
<li>
<p><strong>ID</strong>: <br />
Property ID will always begin with <code>d_</code> (for numbers) or <code>s_</code> (for strings) to indicate that it is a custom property, this will be automatically asigned when you select a <code>Type</code>. Property IDs are unique and cannot repeat with itself.</p>
</li>
<li>
<p><strong>Name</strong>: <br />
You can set a custom name for each property. For example, if your ID is <code>d_012421</code>, you can set the name as <code>temperature</code>. The modules in the dashboard will display your property name instead of your property ID.</p>
</li>
<li>
<p><strong>Type</strong>: <br />
There are two types of properties: <code>number</code> and <code>string</code>.</p>
</li>
</ul>
<p><strong><em>Please note that you must configure your properties in your configuration before you send your first customized report.</em></strong></p>
<hr />
<h1 id="api-list">API List</h1>
<h4 id="register-api"><a href="#Register"><code>Register API</code></a></h4>
<ul>
<li>Register a new device for your product.</li>
</ul>
<h4 id="report-api"><a href="#Report"><code>Report API</code></a></h4>
<ul>
<li>Send a report </li>
</ul>
<p><a name="Register"></a></p>
<hr />
<h1 id="register-api_1">Register API</h1>
<p>This API is used to register a new <code>Device</code> for your <code>Product</code>.<br />
You can simply use this API to generate mass devices to do mass deployment. However, your devices are limited. Please use this API carefully to avoid reaching the limitation of your account.</p>
<hr />
<h3 id="request">Request</h3>
<ul>
<li>Method: <code>POST</code></li>
<li>URL: <code>https://api.mobagel.com/v2/register</code></li>
<li>Headers:<ul>
<li><code>Product-Key</code>: The Product Key you get on the dashboard. (Under <code>Basic Information</code> in <strong><em>Configeration -&gt; Product Settings</em></strong>)</li>
<li><code>Content-Type</code>: application/json</li>
</ul>
</li>
<li>Body (Choose one below to send):<ul>
<li>Fill in an <code>Empty State</code>.<br />
<code>{}</code></li>
<li>Fill in <code>Device Attribute</code> you have set on the dashboard. (Under <code>Device Settings</code> in <strong><em>Configeration -&gt; Product Settings</em></strong>)<br />
<code>{
    "d_numeric": 11,
    "s_category": "11"
  }</code>  </li>
</ul>
</li>
</ul>
<hr />
<h3 id="response">Response</h3>
<ul>
<li>Successful response example:<ul>
<li><code>HTTP status code</code>: 201</li>
<li><code>Body</code>:</li>
</ul>
</li>
</ul>
<pre><code>{
  &quot;id&quot;: &quot;5881c64f0136eef58c4ed83d&quot;,
  &quot;key&quot;: &quot;e189a3a2dc8212da87c95043c26204e8efd98f2c07b66a6f126d3ca58b2cafec&quot;
}
</code></pre>

<ul>
<li>Failed response example:<ul>
<li><code>HTTP status code</code>: any other code than 201</li>
<li><code>Body</code>:</li>
</ul>
</li>
</ul>
<pre><code>{
  &quot;msg&quot;: &quot;Key: c7aa3cff154001ec458fc9eb51f1a377b27a7348ae302bdc84098e8b9946c58 does not validate as length(64|64);&quot;
}
</code></pre>

<p><a name="Report"></a> </p>
<hr />
<h1 id="report-api_1">Report API</h1>
<p>This API is used to report the state of your devices. The content can be customised, with custom properties beginning with <code>d_</code> (for numbers) or <code>s_</code> (for strings) to indicate that it is a string.</p>
<hr />
<h3 id="request_1">Request</h3>
<ul>
<li>Method: <code>POST</code></li>
<li>URL: <code>https://api.mobagel.com/v2/report</code></li>
<li>Headers:<ul>
<li><code>Device-Key</code>: The Device Key of a created device. (Under <code>Device List</code> in <strong><em>Configeration -&gt; Device Management</em></strong>)</li>
</ul>
</li>
<li>Body:</li>
</ul>
<pre><code>{
  &quot;d_numeric&quot;: 11,
  &quot;s_category&quot;: &quot;11&quot;
}
</code></pre>

<hr />
<h3 id="response_1">Response</h3>
<ul>
<li>Successful response example:<ul>
<li>Returns an <code>id string</code>.</li>
</ul>
</li>
</ul>
<pre><code>{
&quot;id&quot;: &quot;5881d17e0136eef58c4ee212&quot;
}
</code></pre>

<ul>
<li>Failed response example:<ul>
<li><code>HTTP status code</code>: any other code than 201</li>
<li><code>Body</code>:</li>
</ul>
</li>
</ul>
<pre><code>{
  &quot;msg&quot;: &quot;No device key in headers.&quot;
}
</code></pre></div>
        
    </div>

    <footer class="col-md-12 text-center">
        <hr>
        <p>
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>
    </footer>

    <script src="../../js/jquery-1.10.2.min.js"></script>
    <script src="../../js/bootstrap-3.0.3.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
    var base_url = '../..';
    </script>
    <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
    <script src="../../js/base.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    </body>

</html>
